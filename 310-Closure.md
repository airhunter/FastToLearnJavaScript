# 闭包



{% raw } {% endraw %}

Javascript中闭包是一大难点，但又绕不过去。

之前我们已经谈到过Javascript语言独特作用域，在谈论闭包时，我们仍要继续谈到它。和其它很多语言一样，函数内部的变量对于函数外部是不可见的。反过来函数外部变量，比如全局变量对于函数内部来说是可见的。前提是没有发生在**作用域**那一节中遇到的变量提升问题。

不过Javascript有一种特殊的函数定义方式：

> function f1\(\){
>
> ```
> var n = 999;
>
> function f2\(\){  
>     alert\(n\); //999  
> }
> ```
>
> }

在上面的代码中，f1的局部变量在f2函数中实际上是可见的。这就是Javascript的“链式作用域”。即看到一个变量名时，对象会一层层向上寻找所有父对象中的这个变量。所以对于子对象而言，所有父对象的变量都是可见的，反之则不行。



