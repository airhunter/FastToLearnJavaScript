# 闭包

闭包的定义相当的抽象，不容易理解。所以换个简单的理解就是以子函数作为媒介，将父函数包裹的内部函数、变量作为一个整理（容器），以供外部使用的函数。

它的两大作用是：读取函数内部变量和让这些变量的值保持在内存中。（类似于C++的static关键字效果）

一个用于解释闭包用途的例子：

> function f1\(\){  
>     var n = 999;  
>     function f2\(\){  
>         alert\(n\);  
>     }  
>     return f2;  
> }
>
> var result = f1\(\);
>
> result\(\);     //999

将值保持在内存中的例子：

> function f1\(\){  
>     var n = 999;  
>     nAdd = function\(\){n+1;}  
>     function f2\(\){  
>         alert\(n\);  
>     }  
>     return f2;  
> }
>
> var result = f1\(\);
>
> result\(\);             //999
>
> nAdd\(\);
>
> result\(\);            // 1000

需要注意的是闭包会将函数中的变量都保存在内存中，所以内存消耗会很大，不可滥用。解决方法是在退出函数之前将不用的局部变量都删除。另外闭包会在父函数外部改变父函数内部变量的值，所以要小心使用，不要随意变更父变量内部变量的值。

